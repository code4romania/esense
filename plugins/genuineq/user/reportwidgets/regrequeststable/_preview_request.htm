<?= Form::open(['id' => 'replyForm']) ?>
<input type="hidden" name="record_id" value="<?= $recordId ?>" />
<input type="hidden" name="is_activated" value="<?= $isActivated ?>" />
<div class="modal-header">
    <button type="button" class="close" data-dismiss="popup">Ã—</button>
    <h4 class="modal-title"><?= e($this->pageTitle) ?></h4>
</div>

<?php if (!$this->fatalError): ?>
<div class="modal-body">
    <?= $this->formRender() ?>
</div>


<div class="modal-footer">
    <button
        type="submit"
        data-request="onRequest"
        onclick="$(this).data('request-data', {
                    redirect: 0
                })"
        data-hotkey="ctrl+s, cmd+s"
        data-popup-load-indicator
        class="btn btn-primary">
        <?= e(trans('genuineq.user::lang.reportwidgets.reg_requests_table.frontend.activate_button')) ?>
    </button>

    <button
        type="button"
        class="btn btn-default"
        data-dismiss="popup">
        <?= e(trans('backend::lang.form.cancel')) ?>
    </button>
</div>

<?php else: ?>

<div class="modal-body">
    <p class="flash-message static error"><?= e(trans($this->fatalError)) ?></p>
</div>
<div class="modal-footer">
    <button
        type="button"
        class="btn btn-default"
        data-dismiss="popup">
        <?= e(trans('backend::lang.form.close')) ?>
    </button>
</div>

<?php endif ?>

<script>
    setTimeout(
        function(){ $('#requestForm input.form-control:first').focus() },
        310
    )

</script>

<?= Form::close() ?>
