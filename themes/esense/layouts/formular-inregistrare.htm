description = "Formular de înregistrare - [layout]"

[staticPage]
useContent = 0
default = 0

[session]
security = "all"
allowedUserGroups[] = "registered"
allowedUserGroups[] = "guest"

[register]
forceSecure = 0

[addresses]
counties = 1

[profileStaticData]
schools = 1
==

<!-- REGISTER FORM design variables -->
{variable name="registerPageTitle" label="Titlu" tab="Formular înregistrare" type="text"}{/variable}
{variable name="registerPageIntro1" label="Text 1 intro" tab="Formular înregistrare" type="text"}{/variable}
{variable name="registerPageIntro2" label="Text 2 intro" tab="Formular înregistrare" type="text"}{/variable}
{variable name="registerPageSpecialistType" label="Tip cont specialist" tab="Formular înregistrare" type="text"}{/variable}
{variable name="registerPageSchoolType" label="Tip cont școală" tab="Formular înregistrare" type="text"}{/variable}

<!-- SPECIALIST register form design variables -->
{variable name="registerPageSpecialistFormTitle" label="Titlu formular" tab="Formular specialist" type="text"}{/variable}
{variable name="registerPageSpecialistFormSurname" label="Cîmp nume" tab="Formular specialist" type="text"}{/variable}
{variable name="registerPageSpecialistFormName" label="Cîmp prenume" tab="Formular specialist" type="text"}{/variable}
{variable name="registerPageSpecialistFormPhone" label="Cîmp telefon" tab="Formular specialist" type="text"}{/variable}
{variable name="registerPageSpecialistFormEmail" label="Cîmp email" tab="Formular specialist" type="text"}{/variable}
{variable name="registerPageSpecialistFormPassword" label="Cîmp parolă" tab="Formular specialist" type="text"}{/variable}
{variable name="registerPageSpecialistFormPasswordConfirm" label="Cîmp confirmare parolă" tab="Formular specialist" type="text"}{/variable}
{variable name="registerPageSpecialistFormDefaultOption" label="Cîmp opțiune predefinită pentru specialist" tab="Formular specialist" type="text"}{/variable}
{variable name="registerPageSpecialistFormNoCountySelected" label="Text afișat cînd nu este selectat un județ" tab="Formular specialist" type="text"}{/variable}
{variable name="registerPageSpecialistFormNoCitySelected" label="Text afișat cînd nu este selectat un oraș" tab="Formular specialist" type="text"}{/variable}
{variable name="registerPageSpecialistFormDescription" label="Cîmp descriere" tab="Formular specialist" type="text"}{/variable}
{variable name="registerPageSpecialistFormSubmit" label="Buton de înregistrare" tab="Formular specialist" type="text"}{/variable}

<!-- SCHOOL register form design variables -->
{variable name="registerPageSchoolFormTitle" label="Titlu formular" tab="Formular școală" type="text"}{/variable}
{variable name="registerPageSchoolFormSchoolName" label="Cîmp nume școală" tab="Formular școală" type="text"}{/variable}
{variable name="registerPageSchoolFormNoCountySelected" label="Text afișat cînd nu este selectat un județ" tab="Formular specialist" type="text"}{/variable}
{variable name="registerPageSchoolFormNoCitySelected" label="Text afișat cînd nu este selectat un oraș" tab="Formular specialist" type="text"}{/variable}
{variable name="registerPageSchoolFormSurame" label="Cîmp nume persoană contact" tab="Formular școală" type="text"}{/variable}
{variable name="registerPageSchoolFormName" label="Cîmp prenume persoană contact" tab="Formular școală" type="text"}{/variable}
{variable name="registerPageSchoolFormPhone" label="Cîmp telefon persoană contact" tab="Formular școală" type="text"}{/variable}
{variable name="registerPageSchoolFormEmail" label="Cîmp email persoană contact" tab="Formular școală" type="text"}{/variable}
{variable name="registerPageSchoolFormPassword" label="Cîmp parolă" tab="Formular școală" type="text"}{/variable}
{variable name="registerPageSchoolFormPasswordConfirm" label="Cîmp confirmare parolă" tab="Formular școală" type="text"}{/variable}
{variable name="registerPageSchoolFormDescription" label="Cîmp descriere" tab="Formular școală" type="text"}{/variable}
{variable name="registerPageSchoolFormSubmit" label="Buton de înregistrare" tab="Formular școală" type="text"}{/variable}


<html lang="en">

    {% partial 'head' %}

    <link href="{{ [
            'assets/scss/esense/landing-page/landing-page.scss',
        ]|theme }}" rel="stylesheet">

    {% partial 'web-app/general/google-analytics' %}

    <body>

        {% partial 'navbar' %}

        {% flash %}
        <p
            data-control="flash-message"
            class="flash-message fade {{ type }}"
            data-interval="5">
            {{ message }}
        </p>
        {% endflash %}

        <section class="despre-proiect"></section>

        <div style="min-height: 50vh;">
            <section id="textSection" class="mt-5">
                <div class="container">
                    <div class="row">
                        <div class="col-12 mb-4">
                            <h3 class="text-gray-dark font-weight-light mb-3" style="line-height: 38px;">{{ registerPageTitle }}</h3>
                            <p class="small text-muted" style="line-height: 22px; letter-spacing: -0.3px;">{{ registerPageIntro1 }}</p>
                            <p class="small text-muted" style="line-height: 22px; letter-spacing: -0.3px;">{{ registerPageIntro2 }}</p>
                        </div>
                    </div>
                </div>
            </section>

            <section>
                <div id="formContainer" class="container">
                    <div id="selectRow" class="row">
                        <div class="col-12 col-lg-7">
                            <div class="form-group outline-none">
                                <select id="selectRegisterForm" class="form-control selectpicker border outline-none" data-style="btn-white">
                                    <option value="teacher" data-icon="fas fa-user mr-3">{{ registerPageSpecialistType }}</option>
                                    <option value="school" data-icon="fas fa-city mr-2">{{ registerPageSchoolType }}</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div id="teacherForm" class="d-none">

<!--                        SPECIALIST register form -->
                            <section class="my-5">
                                <div class="container">
                                    <!-- Register form -->
                                    <form method="POST" data-request="onRegister" data-request-success="$('#teacherForm').addClass('d-none'); $('#successMessage').removeClass('d-none');">
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="shadow-lg rounded bg-white p-0 p-md-5">
                                                    <div class="shadow rounded p-3 py-4">
                                                        <p class="display-2 text-medium-dark form-styles p-0 m-0 mb-3">{{ registerPageSpecialistFormTitle }}</p>

                                                        <div class="row">
                                                            <!-- Last name input -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group">
                                                                    <input type="text" name="surname" class="form-control" id="surname" aria-describedby="surnameHelp" placeholder="{{ registerPageSpecialistFormSurname }}" style="font-style: italic;">
                                                                </div>
                                                            </div>

                                                            <!-- First name input -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group">
                                                                    <input type="text" name="name" class="form-control" id="name" aria-describedby="nameHelp" placeholder="{{ registerPageSpecialistFormName }}" style="font-style: italic;">
                                                                </div>
                                                            </div>

                                                            <!-- Phone number input -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group">
                                                                    <input type="number" name="phone" class="form-control" id="phone" aria-describedby="phoneHelp" placeholder="{{ registerPageSpecialistFormPhone }}" style="font-style: italic;">
                                                                </div>
                                                            </div>

                                                            <!-- Email input -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group">
                                                                    <input type="email" name="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="{{ registerPageSpecialistFormEmail }}" style="font-style: italic;">
                                                                </div>
                                                            </div>

                                                            <!-- Password -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group">
                                                                    <input type="password" name="password" class="form-control" id="password" aria-describedby="passwordHelp" placeholder="{{ registerPageSpecialistFormPassword }}" style="font-style: italic;">
                                                                </div>
                                                            </div>

                                                            <!-- Password confirmation -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group">
                                                                    <input type="password" name="password_confirmation" class="form-control" id="password_confirmation" aria-describedby="passwordConfirmationHelp" placeholder="{{ registerPageSpecialistFormPasswordConfirm }}" style="font-style: italic;">
                                                                </div>
                                                            </div>

                                                            <!-- County select -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group register-select">
                                                                    <select name="county" id="specialistCounty" class="form-control border outline-none selectpicker" data-live-search="true" data-none-results-text="{{ registerPageSpecialistFormNoCountySelected }}" data-style="btn-white">
                                                                        {% for key, county in counties %}
                                                                        <option value="{{ key }}">{{ county }}</option>
                                                                        {% endfor %}
                                                                    </select>
                                                                </div>
                                                            </div>

                                                            <!-- City select -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group register-select">
                                                                    <select name="city" id="specialistCity" class="form-control border outline-none selectpicker" data-none-results-text="{{ registerPageSpecialistFormNoCitySelected }}" data-live-search="true" data-style="btn-white" disabled></select>
                                                                </div>
                                                            </div>

                                                            <!-- School name select -->
                                                            <div class="col-12">
                                                                <div class="form-group register-select">
                                                                    <select name="school" class="form-control border outline-none selectpicker" data-style="btn-white">
                                                                        <option value="-1">{{ registerPageSpecialistFormDefaultOption }}</option>
                                                                        {% for key, school in schools %}
                                                                        <option value="{{ key }}">{{ school }}</option>
                                                                        {% endfor %}
                                                                    </select>
                                                                </div>
                                                            </div>

                                                            <input name="type" type="text" id="type" class="d-none" value="specialist">
                                                        </div>
                                                    </div>

                                                    <!-- Description input -->
                                                    <div class="shadow rounded p-3 py-4 mt-5">
                                                        <p class="display-2 text-medium-dark form-styles pl-3">{{ registerPageSpecialistFormDescription }}</p>
                                                        <div class="col-12">
                                                            <div class="form-group">
                                                                <textarea class="form-control" name="description" id="description" rows="5"></textarea>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <!-- Submit button -->
                                            <div class="col-12 mt-5 mb-5 mb-lg-0">
                                                <div class="d-flex justify-content-end">
                                                    <button role="button" type="submit" class="btn btn-sm btn-primary px-5">{{ registerPageSpecialistFormSubmit }}</button>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </section>


                            <script type="text/javascript">
                                $(document).ready(function () {
                                    /**
                                     * Extracts the initial cities.
                                     */
                                    $.request('onGetCities', {
                                        data: {
                                            countyId: 1
                                        },
                                        success: function(data) {
                                            /* Reset the city select content. */
                                            $('#specialistCity').html('');

                                            /* Parse all received citied and add them. */
                                            for (const city in data) {
                                                $('#specialistCity').append(`<option value="${data[city]}">${city}</option>`);
                                            }

                                            /* Activate the select. */
                                            $('#specialistCity').prop("disabled", false);
                                            $("#specialistCity").selectpicker("refresh");
                                        }
                                    });

                                    /**
                                     * Function that extracts the cities of a county.
                                     */
                                    $('#specialistCounty').on('change', function() {
                                        $.request('onGetCities', {
                                            data: {
                                                countyId: this.value
                                            },
                                            success: function(data) {
                                                /* Reset the city select content. */
                                                $('#specialistCity').html('');

                                                /* Parse all received citied and add them. */
                                                for (const city in data) {
                                                    $('#specialistCity').append(`<option value="${data[city]}">${city}</option>`);
                                                }

                                                /* Activate the select. */
                                                $('#specialistCity').prop("disabled", false);
                                                $("#specialistCity").selectpicker("refresh");
                                            }
                                        })
                                    });
                                });
                            </script>

                        </div>

                        <div id="schoolForm" class="d-none">

<!--                        SCHOOL register form -->
                            <section class="my-5">
                                <div class="container">
                                    <!-- Register form -->
                                    <form method="POST" data-request="onRegister" data-request-success="$('#schoolForm').addClass('d-none'); $('#successMessage').removeClass('d-none');">
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="shadow-lg rounded bg-white p-0 p-md-5">
                                                    <div class="shadow rounded p-3 py-4">
                                                        <p class="display-2 text-medium-dark p-0 m-0 mb-3 form-styles">{{ registerPageSchoolFormTitle }}</p>

                                                        <div class="row">
                                                            <!-- Last name input -->
                                                            <div class="col-12">
                                                                <div class="form-group">
                                                                    <input type="text" name="school_name" class="form-control" id="school_name" aria-describedby="school_nameHelp" placeholder="{{ registerPageSchoolFormSchoolName }}" style="font-style:italic;">
                                                                </div>
                                                            </div>

                                                            <!-- County select -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group register-select">
                                                                    <select name="county" id="schoolCounty" class="form-control border outline-none selectpicker" data-live-search="true" data-none-results-text="{{ registerPageSchoolFormNoCountySelected }}" data-style="btn-white">
                                                                        {% for key, county in counties %}
                                                                        <option value="{{ key }}">{{ county }}</option>
                                                                        {% endfor %}
                                                                    </select>
                                                                </div>
                                                            </div>

                                                            <!-- City select -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group register-select">
                                                                    <select name="city" id="schoolCity" class="form-control border outline-none selectpicker" data-none-results-text="{{ registerPageSchoolFormNoCountySelected }}" data-live-search="true" data-style="btn-white" disabled></select>
                                                                </div>
                                                            </div>

                                                            <!-- Contact person last name input -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group">
                                                                    <input type="text" name="surname" class="form-control" id="surname" aria-describedby="surnameHelp" placeholder="{{ registerPageSchoolFormSurame }}" style="font-style: italic;">
                                                                </div>
                                                            </div>

                                                            <!-- Contact person first name input -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group">
                                                                    <input type="text" name="name" class="form-control" id="name" aria-describedby="nameHelp" placeholder="{{ registerPageSchoolFormName }}" style="font-style: italic;">
                                                                </div>
                                                            </div>

                                                            <!-- Contact person phone number input -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group">
                                                                    <input type="number" name="phone" class="form-control" id="phone" aria-describedby="phoneHelp" placeholder="{{ registerPageSchoolFormPhone }}" style="font-style: italic;">
                                                                </div>
                                                            </div>

                                                            <!-- Contact person email input -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group">
                                                                    <input type="email" name="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="{{ registerPageSchoolFormEmail }}" style="font-style: italic;">
                                                                </div>
                                                            </div>

                                                            <!-- Password -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group">
                                                                    <input type="password" name="password" class="form-control" id="password" aria-describedby="passwordHelp" placeholder="{{ registerPageSchoolFormPassword }}" style="font-style: italic;">
                                                                </div>
                                                            </div>

                                                            <!-- Password confirmation -->
                                                            <div class="col-12 col-lg-6">
                                                                <div class="form-group">
                                                                    <input type="password" name="password_confirmation" class="form-control" id="password_confirmation" aria-describedby="passwordConfirmationHelp" placeholder="{{ registerPageSchoolFormPasswordConfirm }}" style="font-style: italic;">
                                                                </div>
                                                            </div>

                                                            <input name="type" type="text" id="type" class="d-none" value="school">
                                                        </div>
                                                    </div>

                                                    <!-- Description input -->
                                                    <div class="shadow rounded p-3 py-4 mt-5">
                                                        <p class="display-2 text-medium-dark form-styles pl-3">{{ registerPageSchoolFormDescription }}</p>
                                                        <div class="col-12">
                                                            <div class="form-group">
                                                                <textarea class="form-control" name="description" id="description" rows="5"></textarea>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <!-- Submit button -->
                                            <div class="col-12 mt-5 mb-5 mb-lg-0">
                                                <div class="d-flex justify-content-end">
                                                    <button role="button" type="submit" class="btn btn-sm btn-primary px-5">{{ registerPageSchoolFormSubmit }}</button>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </section>

                            <script type="text/javascript">
                                $(document).ready(function () {
                                    /**
                                     * Extracts the initial cities.
                                     */
                                    $.request('onGetCities', {
                                        data: {
                                            countyId: 1
                                        },
                                        success: function(data) {
                                            /* Reset the city select content. */
                                            $('#schoolCity').html('');

                                            /* Parse all received citied and add them. */
                                            for (const city in data) {
                                                $('#schoolCity').append(`<option value="${data[city]}">${city}</option>`);
                                            }

                                            /* Activate the select. */
                                            $('#schoolCity').prop("disabled", false);
                                            $("#schoolCity").selectpicker("refresh");
                                        }
                                    });

                                    /**
                                     * Function that extracts the cities of a county.
                                     */
                                    $('#schoolCounty').on('change', function() {
                                        $.request('onGetCities', {
                                            data: {
                                                countyId: this.value
                                            },
                                            success: function(data) {
                                                /* Reset the city select content. */
                                                $('#schoolCity').html('');

                                                /* Parse all received citied and add them. */
                                                for (const city in data) {
                                                    $('#schoolCity').append(`<option value="${data[city]}">${city}</option>`);
                                                }

                                                /* Activate the select. */
                                                $('#schoolCity').prop("disabled", false);
                                                $("#schoolCity").selectpicker("refresh");
                                            }
                                        });
                                    });
                                });
                            </script>

                        </div>


                        <div id="successMessage" class="d-none">
                            {% partial 'registration/registration-success-message' %}
                        </div>


                    </div>
                </div>
            </section>
        </div>

        <script type="text/javascript">
            $(document).ready(function () {
                /* Decide which form to display. */
                if ('teacher' == $('#selectRegisterForm').val()) {
                    $('#teacherForm').removeClass('d-none');
                    $('#schoolForm').addClass('d-none');
                } else {
                    $('#teacherForm').addClass('d-none');
                    $('#schoolForm').removeClass('d-none');
                }

                /**
                 * Function that toggles the display of forms based on the
                 *  selected value of the "selectRegisterForm" select.
                 */
                $('#selectRegisterForm').on('change', function() {
                    if ('teacher' == this.value) {
                        $('#teacherForm').removeClass('d-none');
                        $('#schoolForm').addClass('d-none');
                    } else {
                        $('#teacherForm').addClass('d-none');
                        $('#schoolForm').removeClass('d-none');
                    }
                });
            });
        </script>


        {% partial 'footer-columns' %}

        {% partial 'footer' %}

        {% partial 'footer-scripts' %}


    </body>

</html>
