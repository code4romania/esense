title = "AdaugÄƒ profesor"
url = "/school/specialist-add"
layout = "web-app"
description = "Used for adding a specialist"
is_hidden = 0

[session]
security = "user"
allowedUserGroups[] = "registered"
allowedUserTypes[] = "school"

[specialist]
resetPage = "authentification/reset-password"
==
<div class="container-fluid px-lg-4">
    <div class="row">
        <div class="col-12">
            <form class="px-lg-4" data-request="onSpecialistsInvite">

                <div id="add_specialists_wrapper">
                    <div class="px-3 my-4 rounded shadow-sm">
                        {%
                            partial 'web-app/school/specialist-form'

                            index = 1
                            nextIndex = 2
                            display = true
                            displayDeleteButton = false
                            hideAddPerson = false
                        %}
                    </div>

                    <div class="px-3 my-4 rounded shadow-sm">
                        {%
                            partial 'web-app/school/specialist-form'

                            index = 2
                            nextIndex = 3
                            display = false
                            displayDeleteButton = true
                            hideAddPerson = false
                        %}
                    </div>

                    <div class="px-3 my-4 rounded shadow-sm">
                        {%
                            partial 'web-app/school/specialist-form'

                            index = 3
                            nextIndex = 4
                            display = false
                            displayDeleteButton = true
                            hideAddPerson = false
                        %}
                    </div>

                    <div class="px-3 my-4 rounded shadow-sm">
                        {%
                            partial 'web-app/school/specialist-form'

                            index = 4
                            nextIndex = 5
                            display = false
                            displayDeleteButton = true
                            hideAddPerson = false
                        %}
                    </div>

                    <div class="px-3 my-4 rounded shadow-sm">
                        {%
                            partial 'web-app/school/specialist-form'

                            index = 5
                            display = false
                            displayDeleteButton = true
                            hideAddPerson = true
                        %}
                    </div>
                </div>

                <!-- Submit button -->
                <div class="col-12 mb-5 mt-3">
                    <div class="d-flex justify-content-end">
                        <button  type="submit" class="add-specialist btn btn-sm text-white btn-gray-light px-5" disabled>{{'page.school.dashboard.specialist.add.btn.text'|_}}</button>
                    </div>
                </div>

            </form>
        </div>
    </div>
</div>

{% put scripts %}
    <!-- Scripts for datatables -->
    <script type="text/javascript">
        $(document).ready(function () {
            /**
             * Function for triggering the finish button when
             * values from all fields are selected
             */
             function activateFinishBtn() {
                $('.add-specialist').removeAttr('disabled');
                $('.add-specialist').removeClass('btn-gray-light');
                $('.add-specialist').removeClass('text-white');
                $('.add-specialist').addClass('btn-secondary');
            }

            function deactivateFinishBtn() {
                $('.add-specialist').attr('disabled');
                $('.add-specialist').addClass('btn-gray-light');
                $('.add-specialist').addClass('text-white');
                $('.add-specialist').removeClass('btn-secondary');
            }

            /** Validation for activeting the finish button. */
            $(document.body).on('change blur keyup', '.onChangeValue', function(){
                if(
                    (
                        ((0 !== $("#specialist_1_surname_id").val().length) && ((0 == $("#specialist_1_name_id").val().length) || (0 == $("#specialist_1_phone_id").val().length) || (0 == $("#specialist_1_email_id").val().length) )) ||
                        ((0 !== $("#specialist_1_name_id").val().length) && ((0 == $("#specialist_1_surname_id").val().length) || (0 == $("#specialist_1_phone_id").val().length) || (0 == $("#specialist_1_email_id").val().length) )) ||
                        ((0 !== $("#specialist_1_phone_id").val().length) && ((0 == $("#specialist_1_surname_id").val().length) || (0 == $("#specialist_1_name_id").val().length) || (0 == $("#specialist_1_email_id").val().length) )) ||
                        ((0 !== $("#specialist_1_email_id").val().length) && ((0 == $("#specialist_1_surname_id").val().length) || (0 == $("#specialist_1_name_id").val().length) || (0 == $("#specialist_1_email_id").val().length) ))
                    ) ||
                    (
                        ((0 !== $("#specialist_2_surname_id").val().length) && ((0 == $("#specialist_2_name_id").val().length) || (0 == $("#specialist_2_phone_id").val().length) || (0 == $("#specialist_2_email_id").val().length) )) ||
                        ((0 !== $("#specialist_2_name_id").val().length) && ((0 == $("#specialist_2_surname_id").val().length) || (0 == $("#specialist_2_phone_id").val().length) || (0 == $("#specialist_2_email_id").val().length) )) ||
                        ((0 !== $("#specialist_2_phone_id").val().length) && ((0 == $("#specialist_2_surname_id").val().length) || (0 == $("#specialist_2_name_id").val().length) || (0 == $("#specialist_2_email_id").val().length) )) ||
                        ((0 !== $("#specialist_2_email_id").val().length) && ((0 == $("#specialist_2_surname_id").val().length) || (0 == $("#specialist_2_name_id").val().length) || (0 == $("#specialist_2_email_id").val().length) ))
                    ) ||
                    (
                        ((0 !== $("#specialist_3_surname_id").val().length) && ((0 == $("#specialist_3_name_id").val().length) || (0 == $("#specialist_3_phone_id").val().length) || (0 == $("#specialist_3_email_id").val().length) )) ||
                        ((0 !== $("#specialist_3_name_id").val().length) && ((0 == $("#specialist_3_surname_id").val().length) || (0 == $("#specialist_3_phone_id").val().length) || (0 == $("#specialist_3_email_id").val().length) )) ||
                        ((0 !== $("#specialist_3_phone_id").val().length) && ((0 == $("#specialist_3_surname_id").val().length) || (0 == $("#specialist_3_name_id").val().length) || (0 == $("#specialist_3_email_id").val().length) )) ||
                        ((0 !== $("#specialist_3_email_id").val().length) && ((0 == $("#specialist_3_surname_id").val().length) || (0 == $("#specialist_3_name_id").val().length) || (0 == $("#specialist_3_email_id").val().length) ))
                    ) ||
                    (
                        ((0 !== $("#specialist_4_surname_id").val().length) && ((0 == $("#specialist_4_name_id").val().length) || (0 == $("#specialist_4_phone_id").val().length) || (0 == $("#specialist_4_email_id").val().length) )) ||
                        ((0 !== $("#specialist_4_name_id").val().length) && ((0 == $("#specialist_4_surname_id").val().length) || (0 == $("#specialist_4_phone_id").val().length) || (0 == $("#specialist_4_email_id").val().length) )) ||
                        ((0 !== $("#specialist_4_phone_id").val().length) && ((0 == $("#specialist_4_surname_id").val().length) || (0 == $("#specialist_4_name_id").val().length) || (0 == $("#specialist_4_email_id").val().length) )) ||
                        ((0 !== $("#specialist_4_email_id").val().length) && ((0 == $("#specialist_4_surname_id").val().length) || (0 == $("#specialist_4_name_id").val().length) || (0 == $("#specialist_4_email_id").val().length) ))
                    ) ||
                    (
                        ((0 !== $("#specialist_5_surname_id").val().length) && ((0 == $("#specialist_5_name_id").val().length) || (0 == $("#specialist_5_phone_id").val().length) || (0 == $("#specialist_5_email_id").val().length) )) ||
                        ((0 !== $("#specialist_5_name_id").val().length) && ((0 == $("#specialist_5_surname_id").val().length) || (0 == $("#specialist_5_phone_id").val().length) || (0 == $("#specialist_5_email_id").val().length) )) ||
                        ((0 !== $("#specialist_5_phone_id").val().length) && ((0 == $("#specialist_5_surname_id").val().length) || (0 == $("#specialist_5_name_id").val().length) || (0 == $("#specialist_5_email_id").val().length) )) ||
                        ((0 !== $("#specialist_5_email_id").val().length) && ((0 == $("#specialist_5_surname_id").val().length) || (0 == $("#specialist_5_name_id").val().length) || (0 == $("#specialist_5_email_id").val().length) ))
                    )
                )
                {
                    deactivateFinishBtn()
                } else {
                    activateFinishBtn()
                }
            });
        });
    </script>
{% endput %}
